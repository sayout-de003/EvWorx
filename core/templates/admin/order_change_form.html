{% extends "admin/change_form.html" %}
{% load i18n admin_urls %}

{% block after_field_sets %}
  <fieldset class="module aligned">
    <h2>Order Details</h2>
    <div class="form-row">
      <div>
        <label>Order ID:</label>
        <p>{{ original.id }}</p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Ordered By:</label>
        <p>{{ original.user.username }} ({{ original.user.email }})</p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Contact Number:</label>
        <p>{{ original.user.phone_number|default:"Not provided" }}</p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Delivery Address:</label>
        <p>
          {{ original.delivery_address.full_name }}<br>
          {{ original.delivery_address.address_line_1 }}{% if original.delivery_address.address_line_2 %}, {{ original.delivery_address.address_line_2 }}{% endif %}<br>
          {{ original.delivery_address.city }}, {{ original.delivery_address.district }}<br>
          {{ original.delivery_address.state }} - {{ original.delivery_address.pincode }}<br>
          Phone: {{ original.delivery_address.phone_number|default:"Not provided" }}<br>
          {% if original.delivery_address.verified %}
            <span style="color: green;">Verified</span>
          {% else %}
            <span style="color: red;">Not Verified</span>
          {% endif %}
        </p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Delivery Status:</label>
        <p>{{ original.status }}</p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Total Amount:</label>
        <p>{{ original.total_amount }}</p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Coupon Applied:</label>
        <p>{{ original.coupon.code|default:"None" }}</p>
      </div>
    </div>
    <div class="form-row">
      <div>
        <label>Order Date:</label>
        <p>{{ original.created_at }}</p>
      </div>
    </div>
  </fieldset>
{% endblock %}